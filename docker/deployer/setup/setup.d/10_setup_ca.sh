#!/usr/bin/env bash -eux

export CA_CERTS_DIR=/usr/local/share/ca-certificates/noroutine
mkdir -p ${CA_CERTS_DIR}

cat << NOROUTINE_ROOT_CA > ${CA_CERTS_DIR}/noroutine-root.crt
-----BEGIN CERTIFICATE-----
MIIF+jCCA+KgAwIBAgIJANNTQ9Z+xkMjMA0GCSqGSIb3DQEBCwUAMIGJMQswCQYD
VQQGEwJERTEPMA0GA1UECAwGQmF5ZXJuMQ8wDQYDVQQHDAZNdW5pY2gxFzAVBgNV
BAoMDk5vcm91dGluZSBHbWJIMRowGAYDVQQDDBFOb3JvdXRpbmUgUm9vdCBDQTEj
MCEGCSqGSIb3DQEJARYUc3VwcG9ydEBub3JvdXRpbmUubWUwHhcNMTcxMjEzMTkx
ODIyWhcNMzcxMjA4MTkxODIyWjCBiTELMAkGA1UEBhMCREUxDzANBgNVBAgMBkJh
eWVybjEPMA0GA1UEBwwGTXVuaWNoMRcwFQYDVQQKDA5Ob3JvdXRpbmUgR21iSDEa
MBgGA1UEAwwRTm9yb3V0aW5lIFJvb3QgQ0ExIzAhBgkqhkiG9w0BCQEWFHN1cHBv
cnRAbm9yb3V0aW5lLm1lMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA
3AE8UKnG0kNj1fL/9lB9cRS8huGqaL2Cf70Jqk9PC6WbbWEESnDNlk0+foyRcGRU
zpa6OcAKRJE+x73dOV/DEcPq3i/3IYWMiDUuFoVwh2yvsVFiDuL62/iN2T/va5ZY
EzYkXgyDu26Y3w1cKs0oQ7AxEc5AsNTFrLFjwJJZqKF3SBBT9v4H1T0k0Ja+m2Rf
FTj39TQjVJ0F5Gqer96tlWTAL9f4EXV+hwyxfDcYwL5RRuM36f2t/FcJpyx39+bh
xJQn6YccY1sbZaYRekpq/D5Rleow8rSr2zGjQ8cvC3T5kOXp7FtPUfKKfCfXliUM
3j3tvQYuhjH0sImQQJdoKtR17GMUVBK65XV5p4Qu0Ng1AgbseIrQmbP5kec0CXpl
vDiRvx9nqAEQs/neRyufINUNe6k/iqwrT05lJuSwP4zHUoSJqWrPVPQNkqG2CBsY
P8IEWwO1Nuad9CXYI7HPl0LSDXDKGxOsbu1CnGfbNsYOZAGBOL8OuT5kqiWKVWSZ
ptWoe8MB4zIV2tTh0ZUwnpUabTV/4e+quXaX3qB4TnPVSX4CbsqCWb3DbVBFZzFv
Csl3kVtVR/f6qP8LmeZRgS3McKTocPjsBXuTFh/rNsTWPER57ro2mmxpC2Ii50ub
8Y5T0atbDo4+o1Ie8vUYQZ6eJ2csE68NyRYrNnfGcLkCAwEAAaNjMGEwHQYDVR0O
BBYEFNbcGzPQMNNIJJuVQqAMvU5SyEOyMB8GA1UdIwQYMBaAFNbcGzPQMNNIJJuV
QqAMvU5SyEOyMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgGGMA0GCSqG
SIb3DQEBCwUAA4ICAQBfNlE5of8IchAYROo+Sd8NXJzUBT0Rfi1HDo6HfRljlnxD
DkKfV1927V9DCanETSwRQbMakEuTct+kp9wQ6yy/3IgCrLGsx+9eecyZb0MLUxj0
aD2KBlIoqf8ls4fmzxrG7BbWgIQoPQnW75mznQpFff5YcTsFPYjBuxKivNcbY7/i
pLK1y3gUu80zpOOnxPnciGSszvXQDcP6v1hcJcMtd6e/YrZyu+rOz9a/u1Es7IkR
BpA6yk9u/G5k1ZINCw82XBaLX24D71fVcZyyFS82mv1uaNFDOq3hXQQkeYhgxmp+
pfpJpl1FcILKzKba+0+MbST7uqPhzlz8hX6bxbRPbdcdCno6MS0+/2vA48zb47RX
aBmZGA/cYg00IH4gJ7+2gN7DnfJgKzmdJmm/Zj0feYWVj+9SgzhmxjH8v26VJo0H
4rx1oLnsQs0t5cnut9iSA1OljC8Z+Lk+CCYSfTf2o8z64F797xBsLzX7xXRm1y6t
PVS6WXxw6RpYSKjezTpv+4+pUtAEYsIxK/fN2O6S0ptUc5Zc5EY2J0cHmJK5hByu
NPSHQuKYckNxm9BHlepFKixOov9DGHoF2/fPvpoCyvlb386F6fWXq5BxD36BcN7z
wOjE4ursRkg9K+bDBY6lWhPq1wMlI5fYhjZIKfK/6W8r/1g1pgphk7xBFOc3fg==
-----END CERTIFICATE-----
NOROUTINE_ROOT_CA

cat << NOROUTINE_TRUSTED_CA > ${CA_CERTS_DIR}/noroutine-trusted.crt
-----BEGIN CERTIFICATE-----
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
iSEzh0Nw32wEpWOXI/ZDEL7uUzjHSabA9WtC
-----END CERTIFICATE-----
NOROUTINE_TRUSTED_CA

export CA_CERTS_DIR=/usr/local/share/ca-certificates/allianz-dsp
mkdir -p ${CA_CERTS_DIR}

cat << ALLIANZ_INFRASTRUCTURE_CA_5 > ${CA_CERTS_DIR}/infrastructure-ca-5.crt
-----BEGIN CERTIFICATE-----
MIIFWDCCA0CgAwIBAgIBCTANBgkqhkiG9w0BAQsFADA9MQswCQYDVQQGEwJERTEQ
MA4GA1UEChMHQWxsaWFuejEcMBoGA1UEAxMTQWxsaWFueiBSb290IENBIElJSTAe
Fw0xNTA0MjkwOTEzMDJaFw0zMDA0MjUwOTEzMDJaMEUxCzAJBgNVBAYTAkRFMRAw
DgYDVQQKDAdBbGxpYW56MSQwIgYDVQQDDBtBbGxpYW56IEluZnJhc3RydWN0dXJl
IENBIFYwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDPROja9dPfvzzY
V7oiiCQ06BCwbEr0QBhYdxQDa9bCi8h98Sg//ARQ308eJ1QS8HVNa0XzP5eqDmvj
Nf0mJvjp4MWqBkHxyliLjNWYjX7zAZsRGgqLpZpecwiFGKfy+46WrVCpL9mEIWc1
I6C17BZKeIzzhq0dl4KFpKaoLcDJc4t97/ulUJvCztFKSMjOF2U7+FCL2QuXiAfO
tHT0bH+dGpcg+wFsIVOxpYIZ50p4i/CKusYrQqo9BiDFtVjT3J8suhAN8iqCh0pL
GE6LCC/W+wZgnZtJF7BbOwz7F/xTNitTvvZ6YK/cAOBI3cFZHBzNBSTzqGWx4+SZ
9cO1iGIBAgMBAAGjggFZMIIBVTAOBgNVHQ8BAf8EBAMCAYYwHQYDVR0OBBYEFHG9
sutEhiEEN7BuC3TAjPpdhO3QMB8GA1UdIwQYMBaAFBpX2GOBsZ8a/os2bNCngGhH
Lnr5MBIGA1UdEwEB/wQIMAYBAf8CAQAwOgYDVR0fBDMwMTAvoC2gK4YpaHR0cDov
L3Jvb3RjYS5hbGxpYW56LmNvbS9jcmwvcm9vdGNhMy5jcmwwgbIGA1UdIASBqjCB
pzCBpAYJKwYBBAG3dx4gMIGWMCoGCCsGAQUFBwIBFh5odHRwOi8vcm9vdGNhLmFs
bGlhbnouY29tL2NwczMwaAYIKwYBBQUHAgIwXDAWFg9BbGxpYW56IEdlcm1hbnkw
AwIBARpCVGhpcyBDZXJ0aWZpY2F0ZSBpcyBpc3N1ZWQgYnkgQWxsaWFueiBSb290
IENBIElJSSwgQWxsaWFueiBHZXJtYW55MA0GCSqGSIb3DQEBCwUAA4ICAQCzq+l+
6m9LA7hXS43xlNnYvX1MReAUmK05zIIipCfWfSK0f5ZFcqrHAbHI/rxflM88yCep
FPpVqwkL2sOBAtlvLmyLMRsrOunT8hOiDdcPyQVhGHAE1awBg8lU45xupsifuYNr
+7+mfoHFhnI15f/ADy3zlnj1EsSESL30YPWK3PyNQQGU8PG65eRZGvceGvQV+dn2
j1isy1fesFnsoFjgtfS2xoxhYlm9EGwkQKOzWK9ymtD3qHefHykq8RfYfGqF04r3
TRVGz0mjOKElzk1kNxv64H8xI3u4PzsWYRSLZkAoIxvTWQKb/mCXRkBYvTN53zG1
86lfNKvoaCfiDJDYVTs1yNTDHP0DgQzbmbtfvDNj9itUZ3qIQaXxyyXVSt57ixj+
HbwwNMJOQRVa5jR3AqqiLWMQ3R01vFP27C9SdSQapm17xb9CYZZwhq5qcViC9lD/
Nxc/uAu2oB4Q6YpwWWZWTAXXLYyIjK+KCvRxNQW/P1jz2T9XeKnt28uY2R5pxdy/
SyCV1Il08cqIqcHDGfdRmG8teg51IHRdzDWFmKRo0dvuEG2HZkdz3c808DCXicVV
HLedyhLqzvUMdNOB2YuT8HsrJ9au0b6ZiUr68HtHObCowP00BXpLmCmHCjxp9QEZ
hnwmk7H3R18SSvbeg0iYACOo7ThQJG0LPZ0GLg==
-----END CERTIFICATE-----
ALLIANZ_INFRASTRUCTURE_CA_5

cat << ALLIANZ_ROOT_CA_3 > ${CA_CERTS_DIR}/root-ca-3.crt
-----BEGIN CERTIFICATE-----
MIIGZDCCBEygAwIBAgIBATANBgkqhkiG9w0BAQsFADA9MQswCQYDVQQGEwJERTEQ
MA4GA1UEChMHQWxsaWFuejEcMBoGA1UEAxMTQWxsaWFueiBSb290IENBIElJSTAe
Fw0xNTA0MjkwODQxMzBaFw00MDA0MjIwODQxMzBaMD0xCzAJBgNVBAYTAkRFMRAw
DgYDVQQKEwdBbGxpYW56MRwwGgYDVQQDExNBbGxpYW56IFJvb3QgQ0EgSUlJMIIC
IjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1wIec4qvCCKkuzlOfWZV8ny+
rdqp9ySUDwnaaRet1TQcmkBe9Bac6CsvxAtTb5kh8O0Y7paFKeYuDLU40hqvJiq6
a8nlewYAgMKx7H5ETRNgLTkbLbLdJWDWkEU0YL9GRzp76oTgvEFXENh+m8UBFoLN
rp/szH2TrCG1Xi3sECABdPIfe+dyhyG5fTBEDuuSI1eK+r5LMsW80kB1gb3YITFJ
lkgKFyHKvHnV6KHa/H4JRxh1y12RW7UctNezcmAYdtfMgvTCGByXP3t1Himzv8QM
/7cddqcI5vW32E1/WVKlmR89aBjKv5EWGaIZFY2QItH+rIh5rNI+Hk+sTEXE7Rrr
ISSFjOLlgbVNDrYtfg5nv4HKdIXWG8OX5rXfc7W5ZU1WyWLvF1fB0neRwAMC8bLJ
8laQHJdOrrITPgiDm7owiii8QlduRjSJyDvzSDxHH/WCA4Sdfb20tT9v9yyZLJMs
LqRyFLxRTrnhoGURy3/IiYY0495urNYCWcm9K3kajf+psgPgSMdiR8/o4OCXQ3GH
fPYMBMDuPDqHLk16Z6WxXJ26Bt1gwi9qh756SHljyfMCbHiLFRdg525ivHPXP3P7
DXaAfNegJmyo+fQ+yJSIZ5bb0wlVqKtMNfrFMbfOmMJ9CnU8s6jumOFoYTbdRPKs
gywhVPcaNZExNR2rGkcCAwEAAaOCAW0wggFpMA4GA1UdDwEB/wQEAwIBBjAdBgNV
HQ4EFgQUGlfYY4Gxnxr+izZs0KeAaEcuevkwHwYDVR0jBBgwFoAUGlfYY4Gxnxr+
izZs0KeAaEcuevkwEgYDVR0TAQH/BAgwBgEB/wIBATARBglghkgBhvhCAQEEBAMC
AAcwOgYDVR0fBDMwMTAvoC2gK4YpaHR0cDovL3Jvb3RjYS5hbGxpYW56LmNvbS9j
cmwvcm9vdGNhMy5jcmwwgbMGA1UdIASBqzCBqDCBpQYJKwYBBAG3dx4DMIGXMCsG
CCsGAQUFBwIBFh9odHRwOi8vcm9vdGNhLmFsbGlhbnouY29tL2NwczMvMGgGCCsG
AQUFBwICMFwwFhYPQWxsaWFueiBHZXJtYW55MAMCAQEaQlRoaXMgQ2VydGlmaWNh
dGUgaXMgaXNzdWVkIGJ5IEFsbGlhbnogUm9vdCBDQSBJSUksIEFsbGlhbnogR2Vy
bWFueTANBgkqhkiG9w0BAQsFAAOCAgEACWT50HEOLlynMkRHl2Xs/cr/bZCQ082w
DG5rjw1LMWDaOtYxGg8KQhLG6S52ISEMOHsxxMBHHfmryos50Zp/xrg7VX/05qz8
K4mop6SGNa/8GbIcRIUaNjuNWhFG+nO9mjZ3sQsJCxW30JgTKgPdZa21S37bBf5u
5TWzw7lAND9RRr4buwKPMiikJka6q7sIYyagl2xlNrmsz1BJPltPrj9j6nWHt5KD
+ITIRRZJo06ib12vGlZfh0Aa9kA1FP3XrbSFUD95un4Kmw/re6s/bc7xbyh8/4Mj
SIl+8TthyevCrA7PSCWiH/8xGbt+kXpm9zIOo9eOyC/s7NnMw7LR98sjEC5rZdbJ
eeDHMoe/Ps1RsV6vlMXM5+ItMCNoQoe+7NkUXsEOf7Gg+jh/PhXNl73Uja2+1S9J
u8U0QAr3RszeCfAtJ+dt6gK1oGPyjsj395jjsQGmKo8GnaqaDXOG9hirzLleFO34
67++A1G/bLwN9f2qCSGIQJR2UM/0CgSOumE0WNnLK5xADJ1pzR3QN3AQod6miQcc
5A2D3a9gFtcE7S5k21JR2BacLvPgab4E+Vc4uaaT156xZ4KsQme2gkpFqygG0d2q
SHT4ls5itZa+pzyBxOg5q+yzzme68VUIJX4e0TCGKIM3nWfUvFQN8aVUWoi9VkYE
gC1QyvUxgOU=
-----END CERTIFICATE-----
ALLIANZ_ROOT_CA_3

update-ca-certificates

